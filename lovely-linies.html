<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Lovely Linies</title>
    <style>

      body {
        background-color: slateblue;
      }
      #canvas {
        border-style: double;
        border-color: slateblue;
        margin: auto;
        display: block;
      }
    </style>
  </head>
  <body>
    <script type="text/javascript">
      var array = [];
      var length = 200;
      var speed = 20;

      window.onload = setup;
      function setup() {      
        canvas = document.getElementById("canvas");
        ctx = canvas.getContext("2d");
        setInterval(draw, speed);

        centerX = canvas.width / 2;
        centerY = canvas.height / 2;

        //initializing array
        for (q=0;q<length;q++) {
          array.push(0);
        }
      }

      function draw() {
        //clear screen first
        ctx.fillStyle = "#FFBBFF";
        ctx.fillRect(0, 0, canvas.width, canvas.height);
  
        var xValue = 0;
        var xInterval = Math.floor(canvas.width / array.length);
        //drawing all lines
        ctx.beginPath();
        for (xValue=0;xValue<canvas.width + 2;xValue=xValue+xInterval) {
          ctx.lineTo(xValue, (array[xValue / xInterval]) * canvas.height);
        }
        ctx.stroke();

        //updating line positions
        array[0] = 0;
        for (a=0;a<length;a++) {
          array[a] = array[a+1];
        }
        //shift is the amount that the lines shift by each frame
        var shift = (Math.random() - 0.5) / 8;
        array[length - 1] = array[length - 2] + shift;
  
        //if the line is outside the screen, make it not be
        if (array[length - 1] > 1) {
          array[length - 1] = 1;
        }
        if (array[length - 1] < 0) {
          array[length - 1] = 0;
        }
        console.log(array[length - 1]);
      }
    </script>

    <canvas id="canvas" width="512" height="384">
    </canvas>
  </body>
</html>
